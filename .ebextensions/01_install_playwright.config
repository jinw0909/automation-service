# .ebextensions/01_playwright.config

# This is for ElasticBeanstalk with Amazon Linux 2023. For previous Linux 2 or Linux 1, see revisions for ideas
packages:
  yum:
    cups-libs: []
    libdrm: []
    libXdamage: []
    libXfixes: []
    libXrandr: []
    mesa-libgbm: []
    libxkbcommon: []
    dbus-glib: []
    libXrandr: []
    libXcursor: []
    libXinerama: []
    cairo: []
    cairo-gobject: []
    pango: []
    liberation-sans-fonts: []
    libwayland-client: []
    libwayland-cursor: []
    gtk3: []
    gdk-pixbuf2: []
    libxkbcommon: []
    libXScrnSaver: []
    libpkgconf: []
    atk: []
    at-spi2-atk: []
    at-spi2-core: []
    alsa-lib: []

commands:
  refresh-fonts:
    command: |
      fc-cache-64 -f -v
    01_install_playwright_browsers:
      command: "npx playwright install"